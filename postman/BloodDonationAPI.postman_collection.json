{
  "info": {
    "name": "Blood Donation API",
    "description": "API collection for blood donation application",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Get Blood Banks",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "https://api-dev-tenaadam.tillahealth.com/api/v1/blood-banks/",
          "protocol": "https",
          "host": [
            "api-dev-tenaadam",
            "tillahealth",
            "com"
          ],
          "path": [
            "api",
            "v1",
            "blood-banks",
            ""
          ]
        },
        "description": "Fetch all blood banks from the API"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "https://api-dev-tenaadam.tillahealth.com/api/v1/blood-banks/",
              "protocol": "https",
              "host": [
                "api-dev-tenaadam",
                "tillahealth",
                "com"
              ],
              "path": [
                "api",
                "v1",
                "blood-banks",
                ""
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"status\": \"success\",\n  \"result\": [\n    {\n      \"id\": \"2584de92-6026-4eaa-a50c-15fbe1c1853c\",\n      \"name\": \"Red Cross Central Blood Bank\",\n      \"description\": \"Main regional facility for blood donations and storage.\",\n      \"blood_type_needs\": [\n        {\n          \"id\": \"036c041f-dd83-454c-82cd-ebfdf75b35fe\",\n          \"blood_bank\": \"2584de92-6026-4eaa-a50c-15fbe1c1853c\",\n          \"blood_type\": \"O+\",\n          \"is_critical\": true,\n          \"needed_units\": 25,\n          \"created_at\": \"2025-07-22T08:57:47.778787Z\",\n          \"updated_at\": \"2025-07-22T08:57:47.778806Z\"\n        }\n      ],\n      \"latitude\": \"9.030100\",\n      \"longitude\": \"38.742800\",\n      \"address\": \"Bole Sub-City, Woreda 3, near Ethio-China Street\",\n      \"city\": \"Addis Ababa\",\n      \"postal_code\": \"1000\",\n      \"country\": \"Ethiopia\",\n      \"phone\": \"+251911234567\",\n      \"email\": \"contact@redcross-ethiopia.org\",\n      \"website\": \"https://www.redcross-ethiopia.org\",\n      \"created_at\": \"2025-07-22T08:57:35.169838Z\",\n      \"updated_at\": \"2025-07-22T08:57:35.169856Z\",\n      \"documents\": [\n        {\n          \"id\": \"3047b9c4-4215-45a1-984c-f0acd12acd67\",\n          \"document_type\": \"Blood Bank Logo\",\n          \"document_name\": \"a8918ca5-053f-147b-457e-5b0c0d2a_4827ca8c.jpg\",\n          \"document_path\": \"media-dev.tenaadam.health/tena-adam/2025/documents/bloodbank/2584de92-6026-4eaa-a50c-15fbe1c1853c/blood_bank_logo/a8918ca5-0_6fPtoJW.jpg\",\n          \"uploaded_by\": {\n            \"id\": \"9118d15d-3420-45b4-8092-a25f5fc6ab42\",\n            \"first_name\": \"Yeabsera\",\n            \"middle_name\": \"Lisanework\",\n            \"last_name\": \"Belachew\",\n            \"email\": \"yeabseradeveloper@gmail.com\",\n            \"phone_number\": \"+251931470920\",\n            \"date_of_birth\": \"2000-06-29\",\n            \"gender\": \"Male\",\n            \"role\": \"Patient\",\n            \"is_profile_complete\": true\n          },\n          \"created_at\": \"2025-07-22T08:59:02.596262Z\",\n          \"updated_at\": \"2025-07-22T08:59:02.596292Z\"\n        }\n      ]\n    }\n  ],\n  \"meta\": {\n    \"version\": \"v1\"\n  },\n  \"message\": \"Request processed successfully\"\n}"
        }
      ],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Test response status",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// Test response structure",
              "pm.test(\"Response has correct structure\", function () {",
              "    const jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('status');",
              "    pm.expect(jsonData).to.have.property('result');",
              "    pm.expect(jsonData).to.have.property('meta');",
              "    pm.expect(jsonData).to.have.property('message');",
              "});",
              "",
              "// Test status is success",
              "pm.test(\"Status is success\", function () {",
              "    const jsonData = pm.response.json();",
              "    pm.expect(jsonData.status).to.eql('success');",
              "});",
              "",
              "// Test result is an array",
              "pm.test(\"Result is an array\", function () {",
              "    const jsonData = pm.response.json();",
              "    pm.expect(jsonData.result).to.be.an('array');",
              "});",
              "",
              "// Test blood bank structure",
              "pm.test(\"Blood bank has required fields\", function () {",
              "    const jsonData = pm.response.json();",
              "    if (jsonData.result.length > 0) {",
              "        const bloodBank = jsonData.result[0];",
              "        pm.expect(bloodBank).to.have.property('id');",
              "        pm.expect(bloodBank).to.have.property('name');",
              "        pm.expect(bloodBank).to.have.property('address');",
              "        pm.expect(bloodBank).to.have.property('city');",
              "        pm.expect(bloodBank).to.have.property('phone');",
              "        pm.expect(bloodBank).to.have.property('email');",
              "    }",
              "});",
              "",
              "// Test response time",
              "pm.test(\"Response time is less than 5000ms\", function () {",
              "    pm.expect(pm.response.responseTime).to.be.below(5000);",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    }
  ]
} 